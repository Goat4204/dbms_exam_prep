
CREATE TABLE CUSTOMERS (
  CNo NUMBER PRIMARY KEY,
  Cname VARCHAR2(30),
  Salary NUMBER
);

INSERT INTO CUSTOMERS VALUES (1,'Ravi',50000);
COMMIT;

-- Trigger
CREATE OR REPLACE TRIGGER trg_Cust_Salary
BEFORE INSERT OR UPDATE OR DELETE ON CUSTOMERS
FOR EACH ROW
BEGIN
  IF UPDATING THEN
    DBMS_OUTPUT.PUT_LINE('Salary difference: ' || (:NEW.Salary - :OLD.Salary));
  ELSIF INSERTING THEN
    DBMS_OUTPUT.PUT_LINE('New record inserted');
  ELSIF DELETING THEN
    DBMS_OUTPUT.PUT_LINE('Record deleted');
  END IF;
END;
/

-- Test
UPDATE CUSTOMERS SET Salary = 55000 WHERE CNo = 1;
